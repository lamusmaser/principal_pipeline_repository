name: Docker Image CI

on:
    workflow_call:
        inputs:
            image_name:
                description: 'Name of the Docker image to build'
                required: true
                type: string
            platforms:
                description: 'Platforms for which to build the container'
                required: false
                type: string
                default: 'linux/arm64/v8,linux/amd64'    

jobs:
    primary_pipeline_python_checker:
        uses: lamusmaser/principal_container_builder_pipeline/.github/workflows/python_checker.yml@main
    primary_pipeline_container_builder:
        needs: primary_pipeline_python_checker
        uses: lamusmaser/principal_container_builder_pipeline/.github/workflows/container_builder.yml@main